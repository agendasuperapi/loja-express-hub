/* Drawer Mobile Optimizations */

/* Previne zoom automático em inputs no iOS */
@supports (-webkit-touch-callout: none) {
  input,
  textarea,
  select {
    font-size: 16px !important;
  }
}

/* Melhora o comportamento do drawer quando o teclado abre */
[data-vaul-drawer] {
  touch-action: none;
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
}

[data-vaul-drawer][data-vaul-drawer-visible='true'] {
  transform: translate3d(0, 0, 0);
}

/* Previne o drawer de ir para o topo ao abrir o teclado */
[data-vaul-drawer-wrapper] {
  position: fixed;
  inset: 0;
  pointer-events: none;
}

[data-vaul-drawer] {
  pointer-events: auto;
  will-change: transform;
}

/* Otimiza o scroll do conteúdo do drawer */
[data-vaul-drawer] [data-drawer-content] {
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Melhora a performance durante o scroll */
[data-vaul-drawer] [data-drawer-content]::-webkit-scrollbar {
  display: none;
}

[data-vaul-drawer] [data-drawer-content] {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Previne bug de layout ao abrir teclado */
@media (max-width: 768px) {
  [data-vaul-drawer] {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    max-height: 90vh !important;
  }

  /* Garante que o conteúdo não seja cortado */
  [data-vaul-drawer] [data-drawer-content] {
    max-height: calc(90vh - 80px);
  }

  /* Melhora a transição quando o teclado abre/fecha */
  body:has([data-vaul-drawer-visible='true']) {
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
  }
}

/* Otimiza animações para mobile */
@media (max-width: 768px) {
  [data-vaul-drawer] * {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
}
